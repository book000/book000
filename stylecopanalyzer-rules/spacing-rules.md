# スペーシングルール (SA1000-)

スペーシングルールは、キーワード、括弧、演算子などの周りのスペースの使用に関するルールを定義します。これらのルールは、コードの視覚的な一貫性と可読性を向上させるために重要です。

## ルール一覧

| ルールID | 名前 | 説明 |
|---------|------|------|
| [SA1000](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1000.md) | KeywordsMustBeSpacedCorrectly | キーワードは正しくスペースを入れる必要があります。 |
| [SA1001](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1001.md) | CommasMustBeSpacedCorrectly | コンマの後にはスペースを入れ、前にはスペースを入れない必要があります。 |
| [SA1002](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1002.md) | SemicolonsMustBeSpacedCorrectly | セミコロンの後にはスペースを入れ、前にはスペースを入れない必要があります。 |
| [SA1003](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1003.md) | SymbolsMustBeSpacedCorrectly | シンボルの周りには適切にスペースを入れる必要があります。 |
| [SA1004](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1004.md) | DocumentationLinesMustBeginWithSingleSpace | ドキュメント行は単一のスペースから始める必要があります。 |
| [SA1005](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1005.md) | SingleLineCommentsMustBeginWithSingleSpace | 単一行コメントは単一のスペースから始める必要があります。 |
| [SA1006](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1006.md) | PreprocessorKeywordsMustNotBePrecededBySpace | プリプロセッサキーワードの前にスペースを入れるべきではありません。 |
| [SA1007](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1007.md) | OperatorKeywordMustBeFollowedBySpace | operator キーワードの後にはスペースを入れる必要があります。 |
| [SA1008](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1008.md) | OpeningParenthesisMustBeSpacedCorrectly | 開始括弧の前にはスペースを入れ、後にはスペースを入れない必要があります。 |
| [SA1009](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1009.md) | ClosingParenthesisMustBeSpacedCorrectly | 終了括弧の前にはスペースを入れず、後にはスペースを入れる必要があります。 |
| [SA1010](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1010.md) | OpeningSquareBracketsMustBeSpacedCorrectly | 開始角括弧の前にはスペースを入れ、後にはスペースを入れない必要があります。 |
| [SA1011](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1011.md) | ClosingSquareBracketsMustBeSpacedCorrectly | 終了角括弧の前にはスペースを入れず、後にはスペースを入れる必要があります。 |
| [SA1012](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1012.md) | OpeningBracesMustBeSpacedCorrectly | 開始中括弧の前後にはスペースを入れる必要があります。 |
| [SA1013](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1013.md) | ClosingBracesMustBeSpacedCorrectly | 終了中括弧の前後には適切にスペースを入れる必要があります。 |
| [SA1014](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1014.md) | OpeningGenericBracketsMustBeSpacedCorrectly | 開始ジェネリック角括弧の前にはスペースを入れず、後にもスペースを入れない必要があります。 |
| [SA1015](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1015.md) | ClosingGenericBracketsMustBeSpacedCorrectly | 終了ジェネリック角括弧の前後のスペースは正しく入れる必要があります。 |
| [SA1016](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1016.md) | OpeningAttributeBracketsMustBeSpacedCorrectly | 開始属性括弧の前後のスペースは正しく入れる必要があります。 |
| [SA1017](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1017.md) | ClosingAttributeBracketsMustBeSpacedCorrectly | 終了属性括弧の前後のスペースは正しく入れる必要があります。 |
| [SA1018](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1018.md) | NullableTypeSymbolsMustNotBePrecededBySpace | Null許容型シンボルの前にはスペースを入れるべきではありません。 |
| [SA1019](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1019.md) | MemberAccessSymbolsMustBeSpacedCorrectly | メンバーアクセスシンボルの前後にはスペースを入れるべきではありません。 |
| [SA1020](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1020.md) | IncrementDecrementSymbolsMustBeSpacedCorrectly | インクリメント/デクリメントシンボルの前後のスペースは正しく入れる必要があります。 |
| [SA1021](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1021.md) | NegativeSignsMustBeSpacedCorrectly | 負の符号の前後のスペースは正しく入れる必要があります。 |
| [SA1022](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1022.md) | PositiveSignsMustBeSpacedCorrectly | 正の符号の前後のスペースは正しく入れる必要があります。 |
| [SA1023](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1023.md) | DereferenceAndAccessOfMustBeSpacedCorrectly | デリファレンスとアクセス演算子の前後のスペースは正しく入れる必要があります。 |
| [SA1024](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1024.md) | ColonsMustBeSpacedCorrectly | コロンの前後のスペースは正しく入れる必要があります。 |
| [SA1025](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1025.md) | CodeMustNotContainMultipleWhitespaceInARow | コードには連続する複数のホワイトスペースを含めるべきではありません。 |
| [SA1026](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1026.md) | CodeMustNotContainSpaceAfterNewKeywordInImplicitlyTypedArrayAllocation | 暗黙的に型指定された配列割り当てでの new キーワードの後にスペースを含めるべきではありません。 |
| [SA1027](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1027.md) | UseTabsCorrectly | タブを正しく使用する必要があります。 |
| [SA1028](https://github.com/DotNetAnalyzers/StyleCopAnalyzers/blob/master/documentation/SA1028.md) | CodeMustNotContainTrailingWhitespace | コードは末尾のホワイトスペースを含めるべきではありません。 |

## 設定方法

### stylecop.json の設定

スペーシングルールは主に `stylecop.json` のインデントセクションで設定できます：

```json
{
  "$schema": "https://raw.githubusercontent.com/DotNetAnalyzers/StyleCopAnalyzers/master/StyleCop.Analyzers/StyleCop.Analyzers/Settings/stylecop.schema.json",
  "settings": {
    "indentation": {
      "indentationSize": 4,
      "tabSize": 4,
      "useTabs": false
    }
  }
}
```

主要な設定オプション：

- `indentationSize`: インデントのサイズ（スペース数）
- `tabSize`: タブのサイズ
- `useTabs`: スペースの代わりにタブを使用するかどうか

### ルールの有効化/無効化

スペーシングルールを有効または無効にするには、`.editorconfig` ファイルを使用します：

```editorconfig
# 単一行コメントのスペースルールを無効化
dotnet_diagnostic.SA1005.severity = none

# 末尾のホワイトスペースチェックを警告として設定
dotnet_diagnostic.SA1028.severity = warning
```

### 一般的なカスタマイズ例

#### インデントスタイル

タブとスペースの使用に関する設定：

```json
{
  "settings": {
    "indentation": {
      "useTabs": true,
      "tabSize": 4
    }
  }
}
```

または、特定のルールを調整：

```editorconfig
# タブの使用に関するルールを警告として設定
dotnet_diagnostic.SA1027.severity = warning
```

#### コメントスタイル

コメント内のスペーシングルールをカスタマイズ：

```editorconfig
# コメント行のスペースルールを無効化
dotnet_diagnostic.SA1005.severity = none
```

## 違反の抑制方法

特定のスペーシングルール違反を抑制するには、以下の方法があります：

1. コード内での抑制：

   ```csharp
   [SuppressMessage("StyleCop.CSharp.SpacingRules", "SA1025:CodeMustNotContainMultipleWhitespaceInARow", Justification = "整列のために必要です")]
   public class MyClass
   {
       // 通常なら違反となるコード
   }
   ```

2. グローバルな抑制：

   ```csharp
   [assembly: SuppressMessage("StyleCop.CSharp.SpacingRules", "SA1028:CodeMustNotContainTrailingWhitespace", Justification = "このプロジェクトでは末尾のホワイトスペースをチェックしません")]
   ```

3. プラグマディレクティブ：

   ```csharp
   #pragma warning disable SA1025 // コードは連続する複数のホワイトスペースを含めるべきではありません
   public class MyClass
   {
       private int    value1;  // 複数のスペースを使用して整列
       private string value2;
   }
   #pragma warning restore SA1025 // コードは連続する複数のホワイトスペースを含めるべきではありません
   ```

4. `.editorconfig` ファイルでのカスタマイズ（上述の通り）

## 一般的なスペーシングガイドライン

スペーシングルールに従うための一般的なガイドライン：

### 1. 括弧のスペーシング

```csharp
// 良い例
if (condition)
{
    // コード
}

// 悪い例
if(condition){
    // コード
}
```

### 2. 演算子のスペーシング

```csharp
// 良い例
int sum = a + b;
bool isValid = a == b;

// 悪い例
int sum=a+b;
bool isValid=a==b;
```

### 3. コンマとセミコロンのスペーシング

```csharp
// 良い例
int[] values = { 1, 2, 3 };
for (int i = 0; i < 10; i++)

// 悪い例
int[] values = {1,2,3};
for (int i = 0 ; i < 10 ; i++)
```

### 4. キーワードと括弧のスペーシング

```csharp
// 良い例
if (condition)
while (condition)
for (int i = 0; i < 10; i++)

// 悪い例
if(condition)
while( condition )
for(int i=0;i<10;i++)
```

### 5. コメントのスペーシング

```csharp
// 良い例
// このコメントは正しくスペースされています

// 悪い例
//このコメントにはスラッシュの後にスペースがありません
```

### 6. インデント

```csharp
// 良い例 (4スペースまたはタブによるインデント)
class MyClass
{
    void MyMethod()
    {
        if (condition)
        {
            DoSomething();
        }
    }
}

// 悪い例 (不一致のインデント)
class MyClass
{
  void MyMethod()
    {
      if (condition)
      {
          DoSomething();
        }
    }
}
```
